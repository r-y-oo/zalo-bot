# ğŸ¤– HÆ°á»›ng Dáº«n Há»‡ Thá»‘ng ThÃ´ng BÃ¡o Admin

## ğŸ“‹ Tá»•ng Quan

Há»‡ thá»‘ng thÃ´ng bÃ¡o admin giÃºp admin theo dÃµi hoáº¡t Ä‘á»™ng cá»§a bot má»™t cÃ¡ch tá»± Ä‘á»™ng vÃ  hiá»‡u quáº£. Má»—i khi cÃ³ user sá»­ dá»¥ng bot, admin sáº½ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o riÃªng. NgoÃ i ra, admin cÅ©ng nháº­n thÃ´ng bÃ¡o khi bot khá»Ÿi Ä‘á»™ng/táº¯t.

## âš¡ TÃ­nh NÄƒng ChÃ­nh

### 1. **ğŸš€ ThÃ´ng BÃ¡o Khá»Ÿi Äá»™ng**
- Gá»­i tin nháº¯n Ä‘áº¿n admin khi bot khá»Ÿi Ä‘á»™ng thÃ nh cÃ´ng
- Hiá»ƒn thá»‹ thÃ´ng tin há»‡ thá»‘ng: CPU, RAM, Disk
- Thá»‘ng kÃª modules Ä‘Ã£ load
- Kiá»ƒm tra dependencies vÃ  bÃ¡o cÃ¡o váº¥n Ä‘á»
- Ghi log thá»i gian khá»Ÿi Ä‘á»™ng

### 2. **ğŸ›‘ ThÃ´ng BÃ¡o Táº¯t Bot**
- Gá»­i tin nháº¯n khi bot táº¯t
- Thá»‘ng kÃª session vá»«a káº¿t thÃºc
- XÃ¡c nháº­n bot Ä‘Ã£ táº¯t an toÃ n

### 3. **ğŸš¨ ThÃ´ng BÃ¡o Lá»—i**
- Gá»­i tin nháº¯n khi bot gáº·p lá»—i khá»Ÿi Ä‘á»™ng
- Chi tiáº¿t lá»—i vÃ  gá»£i Ã½ kháº¯c phá»¥c
- HÆ°á»›ng dáº«n troubleshooting

### 4. **ğŸ“Š ThÃ´ng BÃ¡o Hoáº¡t Äá»™ng**
- Gá»­i tin nháº¯n riÃªng Ä‘áº¿n admin khi cÃ³ user dÃ¹ng bot
- Hiá»ƒn thá»‹ thÃ´ng tin chi tiáº¿t: tÃªn user, ID, lá»‡nh Ä‘Æ°á»£c dÃ¹ng, thá»i gian
- PhÃ¢n biá»‡t hoáº¡t Ä‘á»™ng trong group vs chat riÃªng
- Chá»‘ng spam: chá»‰ thÃ´ng bÃ¡o má»—i user/lá»‡nh sau 30 phÃºt

### 5. **âš™ï¸ Quáº£n LÃ½ ThÃ´ng BÃ¡o**
```
-notify on     # Báº­t thÃ´ng bÃ¡o admin
-notify off    # Táº¯t thÃ´ng bÃ¡o admin
```

### 6. **ğŸ“ˆ Thá»‘ng KÃª Hoáº¡t Äá»™ng**
```
-stats         # Xem thá»‘ng kÃª chi tiáº¿t
-clearstats    # XÃ³a toÃ n bá»™ thá»‘ng kÃª
```

### 7. **ğŸ’¬ LiÃªn Há»‡ Admin**
```
-toadmin [tin nháº¯n]    # User gá»­i tin nháº¯n Ä‘áº¿n admin
```

## ğŸš€ VÃ­ Dá»¥ ThÃ´ng BÃ¡o Khá»Ÿi Äá»™ng

```
ğŸš€ BOT KHá»I Äá»˜NG THÃ€NH CÃ”NG ğŸš€

ğŸ• Thá»i gian: 05/06/2025 02:10:00
ğŸ¤– Bot Name: Bot by Ha Huy Hoang
ğŸ“± Version: 1.1
ğŸ†” Bot ID: 1234567890123456789

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“Š THÃ”NG TIN Há»† THá»NG:

ğŸ’» OS: Windows
ğŸ”§ CPU: 8 cores (25.5%)
ğŸ§  RAM: 4.2GB/16.0GB (26.3%)
ğŸ’¾ Disk: 150.5GB free / 500.0GB total

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ”§ THÃ”NG TIN MODULES:

ğŸ“¦ Modules loaded: 45
ğŸ”„ Prefix commands: 38
ğŸš« Noprefix commands: 7

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“ˆ THá»NG KÃŠ BOT:

ğŸ“Š Tá»•ng lÆ°á»£t sá»­ dá»¥ng: 1,250
ğŸ‘¥ Users Ä‘Ã£ dÃ¹ng: 85
ğŸ”§ Commands tracked: 342

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âœ… Bot Ä‘Ã£ sáºµn sÃ ng nháº­n lá»‡nh!

ğŸ“ DÃ¹ng -stats Ä‘á»ƒ xem thá»‘ng kÃª chi tiáº¿t
ğŸ”” DÃ¹ng -notify off Ä‘á»ƒ táº¯t thÃ´ng bÃ¡o
ğŸ†˜ DÃ¹ng -toadmin Ä‘á»ƒ liÃªn há»‡ admin
```

## ğŸ›‘ VÃ­ Dá»¥ ThÃ´ng BÃ¡o Táº¯t Bot

```
ğŸ›‘ BOT ÄANG Táº®T ğŸ›‘

ğŸ• Thá»i gian: 05/06/2025 15:30:00
ğŸ¤– Bot ID: 1234567890123456789

ğŸ“Š Thá»‘ng kÃª session:
â€¢ Tá»•ng lÆ°á»£t sá»­ dá»¥ng: 1,267
â€¢ Users hoáº¡t Ä‘á»™ng: 92

âœ… Session Ä‘Ã£ hoÃ n thÃ nh an toÃ n!
```

## ğŸš¨ VÃ­ Dá»¥ ThÃ´ng BÃ¡o Lá»—i

```
ğŸš¨ Lá»–I KHá»I Äá»˜NG BOT ğŸš¨

ğŸ• Thá»i gian: 05/06/2025 08:00:00

âŒ Lá»—i:
Connection timeout: Failed to connect to Zalo API

ğŸ”§ Vui lÃ²ng kiá»ƒm tra vÃ  kháº¯c phá»¥c!

ğŸ“ CÃ³ thá»ƒ do:
â€¢ Máº¥t káº¿t ná»‘i internet
â€¢ API key/session cookies háº¿t háº¡n
â€¢ Thiáº¿u thÆ° viá»‡n cáº§n thiáº¿t
â€¢ Lá»—i cáº¥u hÃ¬nh
```

## ğŸ“Š Thá»‘ng KÃª Bao Gá»“m

- **Tá»•ng lÆ°á»£t sá»­ dá»¥ng**: Sá»‘ láº§n bot Ä‘Æ°á»£c sá»­ dá»¥ng
- **Sá»‘ users hoáº¡t Ä‘á»™ng**: Sá»‘ user Ä‘Ã£ tá»«ng dÃ¹ng bot
- **Top 5 users**: Users sá»­ dá»¥ng bot nhiá»u nháº¥t
- **Top 5 commands**: Lá»‡nh Ä‘Æ°á»£c dÃ¹ng phá»• biáº¿n nháº¥t
- **Thá»i gian thá»‘ng kÃª**: Cáº­p nháº­t realtime

## ğŸ”§ Cáº¥u HÃ¬nh

### ThÆ° Má»¥c Cache
```
modules/cache/
â”œâ”€â”€ user_activity.json     # LÆ°u hoáº¡t Ä‘á»™ng users
â”œâ”€â”€ admin_settings.json    # CÃ i Ä‘áº·t thÃ´ng bÃ¡o
â”œâ”€â”€ admindata.json        # Tráº¡ng thÃ¡i admin mode
â””â”€â”€ startup_log.txt       # Log thá»i gian khá»Ÿi Ä‘á»™ng
```

### CÃ i Äáº·t Admin
Trong file `config.py`:
```python
ADMIN = 'your_admin_id_here'
```

## ğŸ¯ Lá»‡nh Admin

| Lá»‡nh | MÃ´ Táº£ | Quyá»n |
|------|-------|-------|
| `-notify on/off` | Báº­t/táº¯t thÃ´ng bÃ¡o hoáº¡t Ä‘á»™ng | Admin Only |
| `-stats` | Xem thá»‘ng kÃª hoáº¡t Ä‘á»™ng | Admin Only |
| `-clearstats` | XÃ³a thá»‘ng kÃª | Admin Only |
| `-admin on/off` | Báº­t/táº¯t admin mode | Admin Only |

## ğŸ­ Lá»‡nh User

| Lá»‡nh | MÃ´ Táº£ | Quyá»n |
|------|-------|-------|
| `-toadmin [message]` | Gá»­i tin nháº¯n Ä‘áº¿n admin | All Users |

## ğŸš€ CÃ¡ch Hoáº¡t Äá»™ng

### Quy TrÃ¬nh Khá»Ÿi Äá»™ng:
1. **Bot khá»Ÿi táº¡o** â†’ Load modules vÃ  cáº¥u hÃ¬nh
2. **Nháº­n tin nháº¯n Ä‘áº§u tiÃªn** â†’ Trigger thÃ´ng bÃ¡o khá»Ÿi Ä‘á»™ng
3. **Thu tháº­p thÃ´ng tin** â†’ Há»‡ thá»‘ng, modules, thá»‘ng kÃª
4. **Gá»­i thÃ´ng bÃ¡o** â†’ Admin nháº­n tin nháº¯n chi tiáº¿t
5. **Kiá»ƒm tra váº¥n Ä‘á»** â†’ BÃ¡o cÃ¡o warnings/errors

### Quy TrÃ¬nh Hoáº¡t Äá»™ng:
1. **User gá»­i lá»‡nh** â†’ Bot xá»­ lÃ½ lá»‡nh
2. **Kiá»ƒm tra spam** â†’ ÄÃ£ thÃ´ng bÃ¡o trong 30 phÃºt chÆ°a?
3. **Thu tháº­p thÃ´ng tin** â†’ TÃªn user, group, thá»i gian
4. **Gá»­i thÃ´ng bÃ¡o** â†’ Admin nháº­n tin nháº¯n riÃªng
5. **LÆ°u thá»‘ng kÃª** â†’ Cáº­p nháº­t database hoáº¡t Ä‘á»™ng

## âš™ï¸ Cáº¥u HÃ¬nh NÃ¢ng Cao

### TÃ¹y Chá»‰nh Thá»i Gian Chá»‘ng Spam
Trong `mitaizl.py`, dÃ²ng 154:
```python
if (current_time - last_notify).total_seconds() < 1800:  # 30 phÃºt
```

### TÃ¹y Chá»‰nh Dependencies Check
Trong `startup_notify.py`, hÃ m `check_dependencies()`:
```python
required_packages = [
    'psutil', 'pytz', 'colorama', 'pillow', 'pystyle'
]
```

### Báº­t/Táº¯t ThÃ´ng BÃ¡o Khá»Ÿi Äá»™ng
Trong `bot.py`, dÃ²ng 58:
```python
# client.force_startup_notification()  # Uncomment Ä‘á»ƒ gá»­i ngay
```

## ğŸ›¡ï¸ Báº£o Máº­t

- âœ… Chá»‰ admin má»›i nháº­n thÃ´ng bÃ¡o
- âœ… Admin khÃ´ng bá»‹ thÃ´ng bÃ¡o khi tá»± dÃ¹ng bot
- âœ… Chá»‘ng spam vá»›i cooldown 30 phÃºt
- âœ… Dá»¯ liá»‡u Ä‘Æ°á»£c lÆ°u local, khÃ´ng public
- âœ… Auto-cleanup khi cáº§n thiáº¿t
- âœ… Error handling toÃ n diá»‡n

## ğŸ§ª Testing

### Cháº¡y Test Tá»•ng QuÃ¡t:
```bash
python test_noprefix.py      # Test noprefix system
python test_startup.py       # Test startup notification
```

### Test Thá»§ CÃ´ng:
```python
# Trong Python console
from modules.startup_notify import notify_bot_startup
from bot import Client

client = Client(API_KEY, SECRET_KEY, IMEI, SESSION_COOKIES)
notify_bot_startup(client)  # Test thÃ´ng bÃ¡o khá»Ÿi Ä‘á»™ng
```

## ğŸ”„ Backup & Restore

### Backup Dá»¯ Liá»‡u
```bash
cp -r modules/cache/ backup_$(date +%Y%m%d)/
```

### Restore Dá»¯ Liá»‡u
```bash
cp -r backup_20250605/ modules/cache/
```

## ğŸ”§ Troubleshooting

### Bot KhÃ´ng Gá»­i ThÃ´ng BÃ¡o Khá»Ÿi Äá»™ng:
1. Kiá»ƒm tra ADMIN ID trong config.py
2. Kiá»ƒm tra káº¿t ná»‘i internet
3. Kiá»ƒm tra session cookies cÃ²n háº¡n
4. Xem log console cÃ³ lá»—i khÃ´ng

### ThÃ´ng BÃ¡o Hoáº¡t Äá»™ng KhÃ´ng Hoáº¡t Äá»™ng:
1. Kiá»ƒm tra `-notify on` Ä‘Ã£ báº­t chÆ°a
2. Kiá»ƒm tra cooldown 30 phÃºt
3. Xem file user_activity.json

### Lá»—i Dependencies:
```bash
pip install -r requirements.txt
```

## ğŸ“ Há»— Trá»£

Náº¿u cÃ³ váº¥n Ä‘á», hÃ£y:
1. Cháº¡y `python test_startup.py`
2. Kiá»ƒm tra log console
3. Xem cÃ¡c file trong `modules/cache/`
4. Restart bot náº¿u cáº§n thiáº¿t
5. LiÃªn há»‡ developer

---

**PhiÃªn Báº£n:** 2.0.0  
**TÃ¡c Giáº£:** Nguyá»…n Äá»©c TÃ i  
**Cáº­p Nháº­t:** 05/06/2025  
**TÃ­nh NÄƒng Má»›i:** ThÃ´ng bÃ¡o khá»Ÿi Ä‘á»™ng, táº¯t bot, vÃ  error handling
from zlapi.models import Message, MultiMsgStyle, MessageStyle
import time
import random
from config import ADMIN

# List of reactions
reaction_all = [

    "ğŸ˜€", "ğŸ˜ƒ", "ğŸ˜„", "ğŸ˜", "ğŸ˜†", "ğŸ˜…", "ğŸ˜‚", "ğŸ¤£", "ğŸ˜Š", "ğŸ˜‡", "ğŸ™‚", "ğŸ™ƒ", "ğŸ˜‰", "ğŸ˜Œ", "ğŸ˜", "ğŸ¥°", "ğŸ˜˜", "ğŸ˜—", "ğŸ˜™", "ğŸ˜š", "ğŸ˜‹", "ğŸ˜›", "ğŸ˜œ", "ğŸ˜", "ğŸ¤‘", "ğŸ¤—", "ğŸ¤­", "ğŸ¤«", "ğŸ¤”", "ğŸ¤", "ğŸ¤¨", "ğŸ˜", "ğŸ˜‘", "ğŸ˜¶", "ğŸ˜", "ğŸ˜’", "ğŸ™„", "ğŸ˜¬", "ğŸ¤¥", "ğŸ˜Œ", "ğŸ˜”", "ğŸ˜ª", "ğŸ¤¤", "ğŸ˜´", "ğŸ˜·", "ğŸ¤’", "ğŸ¤•", "ğŸ¤¢", "ğŸ¤®", "ğŸ¤§", "ğŸ˜µ", "ğŸ¤¯", "ğŸ¤ ", "ğŸ¥³", "ğŸ˜", "ğŸ¤“", "ğŸ§", "ğŸ˜•", "ğŸ˜Ÿ", "ğŸ™", "ğŸ˜®", "ğŸ˜¯", "ğŸ˜²", "ğŸ˜³", "ğŸ¥º", "ğŸ˜¦", "ğŸ˜§", "ğŸ˜¨", "ğŸ˜°", "ğŸ˜¥", "ğŸ˜¢", "ğŸ˜­", "ğŸ˜±", "ğŸ˜–", "ğŸ˜£", "ğŸ˜", "ğŸ˜“", "ğŸ˜©", "ğŸ˜«", "ğŸ¥±", "ğŸ˜¤", "ğŸ˜¡", "ğŸ˜ ", "ğŸ¤¬", "ğŸ˜ˆ", "ğŸ‘¿", "ğŸ’€", "â˜ ï¸", "ğŸ’©", "ğŸ¤¡", "ğŸ‘¹", "ğŸ‘º", "ğŸ‘»", "ğŸ‘½", "ğŸ‘¾", "ğŸ¤–",


    "ğŸ‘‹", "ğŸ¤š", "ğŸ–", "âœ‹", "ğŸ––", "ğŸ‘Œ", "ğŸ¤Œ", "ğŸ¤", "âœŒï¸", "ğŸ¤", "ğŸ¤Ÿ", "ğŸ¤˜", "ğŸ¤™", "ğŸ‘ˆ", "ğŸ‘‰", "ğŸ‘†", "ğŸ–•", "ğŸ‘‡", "â˜ï¸", "ğŸ‘", "ğŸ‘", "âœŠ", "ğŸ‘Š", "ğŸ¤›", "ğŸ¤œ", "ğŸ‘", "ğŸ™Œ", "ğŸ‘", "ğŸ¤²", "ğŸ¤", "ğŸ™", "âœï¸", "ğŸ’…", "ğŸ¤³", "ğŸ’ª", "ğŸ¦¾", "ğŸ¦µ", "ğŸ¦¿", "ğŸ¦¶", "ğŸ‘‚", "ğŸ¦»", "ğŸ‘ƒ", "ğŸ‘€", "ğŸ‘ï¸", "ğŸ‘…", "ğŸ‘„",

  
    "ğŸ‘¶", "ğŸ‘§", "ğŸ§’", "ğŸ‘¦", "ğŸ‘©", "ğŸ§‘", "ğŸ‘¨", "ğŸ‘©â€ğŸ¦±", "ğŸ‘¨â€ğŸ¦±", "ğŸ‘©â€ğŸ¦°", "ğŸ‘¨â€ğŸ¦°", "ğŸ‘±â€â™€ï¸", "ğŸ‘±â€â™‚ï¸", "ğŸ‘©â€ğŸ¦³", "ğŸ‘¨â€ğŸ¦³", "ğŸ‘©â€ğŸ¦²", "ğŸ‘¨â€ğŸ¦²", "ğŸ§”", "ğŸ‘µ", "ğŸ‘´", "ğŸ‘²", "ğŸ‘³â€â™€ï¸", "ğŸ‘³â€â™‚ï¸", "ğŸ§•", "ğŸ‘®â€â™€ï¸", "ğŸ‘®â€â™‚ï¸", "ğŸ‘·â€â™€ï¸", "ğŸ‘·â€â™‚ï¸", "ğŸ’‚â€â™€ï¸", "ğŸ’‚â€â™‚ï¸", "ğŸ•µï¸â€â™€ï¸", "ğŸ•µï¸â€â™‚ï¸", "ğŸ‘©â€âš•ï¸", "ğŸ‘¨â€âš•ï¸", "ğŸ‘©â€ğŸŒ¾", "ğŸ‘¨â€ğŸŒ¾", "ğŸ‘©â€ğŸ³", "ğŸ‘¨â€ğŸ³", "ğŸ‘©â€ğŸ“", "ğŸ‘¨â€ğŸ“", "ğŸ‘©â€ğŸ¤", "ğŸ‘¨â€ğŸ¤", "ğŸ‘©â€ğŸ«", "ğŸ‘¨â€ğŸ«", "ğŸ‘©â€ğŸ­", "ğŸ‘¨â€ğŸ­", "ğŸ‘©â€ğŸ’»", "ğŸ‘¨â€ğŸ’»", "ğŸ‘©â€ğŸ’¼", "ğŸ‘¨â€ğŸ’¼", "ğŸ‘©â€ğŸ”§", "ğŸ‘¨â€ğŸ”§", "ğŸ‘©â€ğŸ”¬", "ğŸ‘¨â€ğŸ”¬", "ğŸ‘©â€ğŸ¨", "ğŸ‘¨â€ğŸ¨", "ğŸ‘©â€ğŸš’", "ğŸ‘¨â€ğŸš’", "ğŸ‘©â€âœˆï¸", "ğŸ‘¨â€âœˆï¸", "ğŸ‘©â€ğŸš€", "ğŸ‘¨â€ğŸš€", "ğŸ‘©â€âš–ï¸", "ğŸ‘¨â€âš–ï¸", "ğŸ‘°", "ğŸ¤µ", "ğŸ‘¸", "ğŸ¤´", "ğŸ‘¼", "ğŸ¤°", "ğŸ¤±", "ğŸ‘©â€ğŸ¼", "ğŸ‘¨â€ğŸ¼", "ğŸ™‡â€â™€ï¸", "ğŸ™‡â€â™‚ï¸", "ğŸ’â€â™€ï¸", "ğŸ’â€â™‚ï¸", "ğŸ™…â€â™€ï¸", "ğŸ™…â€â™‚ï¸", "ğŸ™†â€â™€ï¸", "ğŸ™†â€â™‚ï¸", "ğŸ™‹â€â™€ï¸", "ğŸ™‹â€â™‚ï¸", "ğŸ§â€â™€ï¸", "ğŸ§â€â™‚ï¸", "ğŸ™â€â™€ï¸", "ğŸ™â€â™‚ï¸", "ğŸ™â€â™€ï¸", "ğŸ™â€â™‚ï¸",

  
    "ğŸµ", "ğŸ’", "ğŸ¦", "ğŸ¦§", "ğŸ¶", "ğŸ•", "ğŸ¦®", "ğŸ•â€ğŸ¦º", "ğŸ©", "ğŸº", "ğŸ¦Š", "ğŸ¦", "ğŸ±", "ğŸˆ", "ğŸˆâ€â¬›", "ğŸ¦", "ğŸ¯", "ğŸ…", "ğŸ†", "ğŸ´", "ğŸ", "ğŸ¦„", "ğŸ¦“", "ğŸ¦Œ", "ğŸ®", "ğŸ‚", "ğŸƒ", "ğŸ„", "ğŸ·", "ğŸ–", "ğŸ—", "ğŸ½", "ğŸ", "ğŸ‘", "ğŸ", "ğŸª", "ğŸ«", "ğŸ¦™", "ğŸ¦’", "ğŸ˜", "ğŸ¦£", "ğŸ¦", "ğŸ¦›", "ğŸ­", "ğŸ", "ğŸ€", "ğŸ¹", "ğŸ°", "ğŸ‡", "ğŸ¿ï¸", "ğŸ¦«", "ğŸ¦”", "ğŸ¦‡", "ğŸ»", "ğŸ»â€â„ï¸", "ğŸ¨", "ğŸ¼", "ğŸ¦¥", "ğŸ¦¦", "ğŸ¦¨", "ğŸ¦˜", "ğŸ¦¡", "ğŸ¾", "ğŸ¦ƒ", "ğŸ”", "ğŸ“", "ğŸ£", "ğŸ¤", "ğŸ¥", "ğŸ¦", "ğŸ§", "ğŸ•Šï¸", "ğŸ¦…", "ğŸ¦†", "ğŸ¦¢", "ğŸ¦‰", "ğŸ¦¤", "ğŸª¶", "ğŸ¦©", "ğŸ¦š", "ğŸ¦œ", "ğŸ¸", "ğŸŠ", "ğŸ¢", "ğŸ¦", "ğŸ", "ğŸ²", "ğŸ‰", "ğŸ¦•", "ğŸ¦–", "ğŸ³", "ğŸ‹", "ğŸ¬", "ğŸ¦­", "ğŸŸ", "ğŸ ", "ğŸ¡", "ğŸ¦ˆ", "ğŸ™", "ğŸš", "ğŸŒ", "ğŸ¦‹", "ğŸ›", "ğŸœ", "ğŸ", "ğŸª²", "ğŸ", "ğŸ¦—", "ğŸª³", "ğŸ•·ï¸", "ğŸ•¸ï¸", "ğŸ¦‚", "ğŸ¦Ÿ", "ğŸª°", "ğŸª±", "ğŸ¦ ",

   
    "ğŸ‡", "ğŸˆ", "ğŸ‰", "ğŸŠ", "ğŸ‹", "ğŸŒ", "ğŸ", "ğŸ¥­", "ğŸ", "ğŸ", "ğŸ", "ğŸ‘", "ğŸ’", "ğŸ“", "ğŸ«", "ğŸ¥", "ğŸ…", "ğŸ†", "ğŸ¥‘", "ğŸ¥¦", "ğŸ¥¬", "ğŸ¥’", "ğŸŒ¶ï¸", "ğŸ«‘", "ğŸŒ½", "ğŸ¥•", "ğŸ«’", "ğŸ§„", "ğŸ§…", "ğŸ¥”", "ğŸ ", "ğŸ¥", "ğŸ¥¯", "ğŸ", "ğŸ¥–", "ğŸ¥¨", "ğŸ§€", "ğŸ¥š", "ğŸ³", "ğŸ¥“", "ğŸ¥©", "ğŸ—", "ğŸ–", "ğŸ¦´", "ğŸŒ­", "ğŸ”", "ğŸŸ", "ğŸ•", "ğŸŒ®", "ğŸŒ¯", "ğŸ¥™", "ğŸ§†", "ğŸ¥ª", "ğŸ¥«", "ğŸ", "ğŸœ", "ğŸ²", "ğŸ›", "ğŸ£", "ğŸ¤", "ğŸ™", "ğŸš", "ğŸ˜", "ğŸ¥", "ğŸ¥ ", "ğŸ«“", "ğŸ¥®", "ğŸ¢", "ğŸ¡", "ğŸ§", "ğŸ¨", "ğŸ¦", "ğŸ¥§", "ğŸ§", "ğŸ°", "ğŸ‚", "ğŸ®", "ğŸ­", "ğŸ¬", "ğŸ«", "ğŸ¿", "ğŸ§‚", "ğŸ¥¤", "ğŸ§ƒ", "ğŸ§‰", "ğŸ§Š", "ğŸ¶", "ğŸº", "ğŸ»", "ğŸ¥‚", "ğŸ·", "ğŸ¥ƒ", "ğŸ¸", "ğŸ¹", "ğŸ§‹", "ğŸ¾", "ğŸ¼", "ğŸ¥›", "â˜•", "ğŸµ", "ğŸ«–", "ğŸ§‹", "ğŸ¶",

 
    "â¤ï¸", "ğŸ§¡", "ğŸ’›", "ğŸ’š", "ğŸ’™", "ğŸ’œ", "ğŸ¤", "ğŸ–¤", "ğŸ¤", "ğŸ’”", "â£ï¸", "ğŸ’•", "ğŸ’", "ğŸ’“", "ğŸ’—", "ğŸ’–", "ğŸ’˜", "ğŸ’", "ğŸ’Ÿ", "â˜®ï¸", "âœï¸", "â˜ªï¸", "ğŸ•‰ï¸", "â˜¸ï¸", "âœ¡ï¸", "ğŸ”¯", "ğŸ•", "â˜¯ï¸", "â˜¦ï¸", "ğŸ›", "â›©ï¸", "ğŸ•‹", "ğŸ•Œ", "ğŸ›•", "ğŸ›³ï¸", "â›´ï¸", "ğŸš¢", "âœˆï¸", "ğŸš€", "ğŸ›¸", "ğŸš", "ğŸš‚", "ğŸš†", "ğŸš‡", "ğŸšŠ", "ğŸš‰", "ğŸš–", "ğŸš”", "ğŸš", "ğŸš˜", "ğŸš›", "ğŸšœ", "ğŸš²", "ğŸ›´", "ğŸ›µ", "ğŸï¸", "ğŸ›º", "ğŸ›¹", "ğŸ›·", "â›·ï¸", "ğŸ‚", "ğŸ‹ï¸â€â™€ï¸", "ğŸ‹ï¸â€â™‚ï¸", "ğŸ„â€â™€ï¸", "ğŸ„â€â™‚ï¸", "ğŸŠâ€â™€ï¸", "ğŸŠâ€â™‚ï¸", "ğŸ¤½â€â™€ï¸", "ğŸ¤½â€â™‚ï¸", "ğŸš´â€â™€ï¸", "ğŸš´â€â™‚ï¸", "ğŸšµâ€â™€ï¸", "ğŸšµâ€â™‚ï¸"
]


# Module description
des = {
    'version': "1.0.0",
    'credits': "Ha Huy HoÃ ng",
    'description': "Spam react",
    'power': "Quáº£n trá»‹ viÃªn bot"
}

# Dictionary to track spam status per thread
spam_active = {}

# Command handler for auto-spam random reactions with on/stop
def handle_react_command(message, message_object, thread_id, thread_type, author_id, client):

    if author_id not in ADMIN:
        client.replyMessage(
            Message(text="â€¢ Báº¡n khÃ´ng cÃ³ quyá»n sá»­ dá»¥ng lá»‡nh nÃ y."),
            message_object, thread_id, thread_type, ttl=30000
        )
        return

    # Split the message to check for subcommands
    parts = message.lower().split()
    subcommand = parts[1] if len(parts) > 1 else ""

    if subcommand == "on":
        # Check if spam is already active in this thread
        if thread_id in spam_active and spam_active[thread_id]:
            client.replyMessage(Message(text="Spam react Ä‘ang Ä‘Æ°á»£c báº­t!"), message_object, thread_id, thread_type)
            return

        # Mark spam as active for this thread
        spam_active[thread_id] = True

        # Infinite loop for auto-spam
        while spam_active.get(thread_id, False):
            action = random.choice(reaction_all)
            try:
                client.sendReaction(message_object, action, thread_id, thread_type, reactionType=75)
            except Exception as e:
                client.replyMessage(Message(text=f"Lá»—i khi gá»­i pháº£n á»©ng: {str(e)}. ÄÃ£ dá»«ng spam."), message_object, thread_id, thread_type)
                spam_active[thread_id] = False
                break

    elif subcommand == "stop":
        # Check if spam is active in this thread
        if thread_id in spam_active and spam_active[thread_id]:
            spam_active[thread_id] = False
        else:
            client.replyMessage(Message(text="KhÃ´ng cÃ³ spam react nÃ o Ä‘ang cháº¡y!"), message_object, thread_id, thread_type)

    else:
        # Default behavior or help message
        client.replyMessage(Message(text="Vui lÃ²ng sá»­ dá»¥ng lá»‡nh há»£p lá»‡ (vd: react on hoáº·c react stop)."), message_object, thread_id, thread_type)

# Module registration
def get_mitaizl():
    return {
        "react": handle_react_command
    }